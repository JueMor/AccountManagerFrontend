<!-- Add account modal -->
<div class="account-form-container">
  <div *ngIf="mode==AccountFormMode.ADD; then addUser else editUser"></div>
  <ng-template #addUser><h1 mat-dialog-title>Add User</h1></ng-template>
  <ng-template #editUser><h1 mat-dialog-title>Edit User</h1></ng-template>
  <mat-dialog-content>
    <form [formGroup]="accountForm">
      <mat-label>Role</mat-label>
      <div>
        <mat-form-field>
          <mat-select formControlName="roles" id="roles" multiple [compareWith]="compareRoles">
            <mat-option *ngFor="let role of roles" [value]="role">
              {{role}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div>
        <mat-label>Username</mat-label>
        <div>
          <mat-form-field>
            <input matInput type="text" name="username" id="addAccountUsername"
                   formControlName="username" placeholder="Username">
          </mat-form-field>
        </div>
      </div>
      <div>
        <mat-label>Name</mat-label>
        <div class="form-group" formGroupName="name">
          <mat-form-field>
            <mat-label>First Name</mat-label>
            <input matInput type="text" name="firstName" id="accountFirstName"
                   formControlName="firstName" placeholder="First name">
            <mat-error *ngIf="firstName?.errors?.required">First Name is required.</mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Last Name</mat-label>
            <input matInput type="text" name="lastName" id="accountLastName"
                   formControlName="lastName" placeholder="Last name">
          </mat-form-field>
        </div>
      </div>
      <div>
        <mat-label>Address</mat-label>
        <div class="form-group" formGroupName="address">
          <mat-form-field style="width: 450px">
            <mat-label>Street</mat-label>
            <input matInput type="text" name="street" id="addAccountStreet" formControlName="street"
                   placeholder="Street">
          </mat-form-field>
          <div>
            <mat-form-field>
              <mat-label>City</mat-label>
              <input matInput type="text" name="city" id="addAccountResidence" formControlName="city"
                     placeholder="City">
            </mat-form-field>
            <mat-form-field>
              <mat-label>Post Code</mat-label>
              <input matInput type="number" name="postCode" id="addAccountPostCode"
                     formControlName="postCode"
                     placeholder="Post Code">
            </mat-form-field>
          </div>
        </div>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput type="text" name="email" id="addEmail" formControlName="email"
                 placeholder="Email">
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Phone number</mat-label>
          <input matInput type="tel" name="phoneNumber" id="accountPhoneNumber"
                 formControlName="phoneNumber"
                 placeholder="Phone number">
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Birthdate</mat-label>
          <input matInput type="date" name="dob" id="accountDob" formControlName="dob"
                 placeholder="Birthdate" [matDatepicker]="picker">
          <mat-hint>DD.MM.YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Password</mat-label>
          <input matInput type="password" name="password" id="accountPassword"
                 formControlName="password"
                 placeholder="Password">
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" name="password" id="addAccountConfirmPassword"
                 formControlName="confirmPassword"
                 placeholder="Password">
        </mat-form-field>
      </div>
      <mat-dialog-actions align="end">
        <button mat-raised-button id="add-account-form" data-dismiss="modal">Close</button>
        <button mat-raised-button color="primary" [disabled]="!accountForm.valid" data-dismiss="modal"
                (click)="onAddOrUpdateAccount(accountForm)">Add Account
        </button>
      </mat-dialog-actions>
    </form>
  </mat-dialog-content>
</div>
